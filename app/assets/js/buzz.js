!function(a,b){typeof exports==='object'&&typeof module!=='undefined'?module.exports=b(require('node-fetch'),require('buffer')):typeof define==='function'&&define.amd?define(['node-fetch','buffer'],b):(a['@web3/buzz']=b(a.fetch,a.Buffer))}(this,(function(a,b){'use strict';a=a&&a.hasOwnProperty('default')?a['default']:a;var c=function c(b){return a(b)},d=function d(b,c){return a(c,{body:b,headers:{'Content-Length':b.length,'Content-Type':'text/plain'},method:'POST'})},e={LONG:{hash:'bzz-hash',immutable:'bzz-immutable',list:'bzz-list',raw:'bzz-raw',root:'bzz'},SHORT:{immutable:'bzzi',raw:'bzzr',root:'bzz'}},f=Object.freeze({LONG:'LONG',SHORT:'SHORT'}),g=function b(a){return a.replace(/\/$/,'')},h=function d(a,b,c){var h=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'';return g(a)+'/'+e[f[c]][b]+':/'+h},i=function d(a,b){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'LONG';if(!b){throw new Error('Swarm node provider not set. Use `buzz.setProvider` to set the Swarm provider.')}return c(h(b,'raw',e,a)).then(function(a){return a.text()})},j=function e(a,c){var f=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'LONG';if(!c){throw new Error('Swarm node provider not set. Use `buzz.setProvider` to set the Swarm provider.')}var g=typeof a==='string'?b.Buffer.from(a):a;return d(g,h(c,'raw',f)).then(function(a){return a.text()})},k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value" in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function l(a,b){var c={};for(var d in a){if(b.indexOf(d)>=0)continue;if(!Object.prototype.hasOwnProperty.call(a,d))continue;c[d]=a[d]}return c}function m(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}var n=function(){function a(b){var c=b.schemeType,d=c===undefined?'LONG':c,e=l(b,['schemeType']);m(this,a);this.setOptions(Object.assign({},e,{schemeType:d}))}k(a,[{key:'download',value:function b(a){return i(a,this.getProvider(),this.getOptions('schemeType'))}},{key:'getProvider',value:function a(){return this.getOptions('provider')}},{key:'getOptions',value:function b(a){return this.options[a]}},{key:'setProvider',value:function b(a){this.setOptions({provider:a})}},{key:'setOptions',value:function b(a){this.options=Object.assign({},this.options,a)}},{key:'upload',value:function b(a){return j(a,this.getProvider(),this.getOptions('schemeType'))}}]);return a}();return n}))
//# sourceMappingURL=buzz.js.map
